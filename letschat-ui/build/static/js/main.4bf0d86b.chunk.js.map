{"version":3,"sources":["components/loader/loader.tsx","containers/home/index.tsx","containers/login/index.tsx","containers/signup/index.tsx","containers/page-404/index.tsx","_common/hooks/custom/useAuthStatus.tsx","components/header/header.tsx","components/layout/layout.tsx","_common/hoc/layout.tsx","_common/hoc/reqAuth.tsx","_common/hoc/reqNoAuth.tsx","App.tsx","serviceWorker.ts","store/reducers/userReducer.ts","store/reducers/globalReducer.ts","store/reducers/messageReducer.ts","store/reducers/index.ts","sagas/__callApi.ts","sagas/user.saga.ts","sagas/message.saga.ts","sagas/index.ts","store/index.ts","components/loader/appLoader.tsx","index.tsx","config/functions.ts","config/colors.ts","config/index.ts","_common/hooks/selectors/userSelectorHook.tsx","_common/hooks/actions/appGlobalActionHook.tsx","_common/hooks/api/appUserApiHook.tsx","_common/hooks/custom/appToasterHook.tsx","_common/hooks/selectors/globalSelectorHook.tsx","_common/hooks/api/appApiCallHook.tsx"],"names":["Loader","className","LazyHome","React","lazy","Home","props","Suspense","fallback","LazyLogin","Login","LazySignup","Signup","LazyPageNotFound","PageNotFound","useAuthStatus","user","useSelector","state","authChecker","isAuthenticated","token","useState","setAuthenticated","useEffect","HeaderMenu","auth","userApi","useUserApi","toast","useToaster","useAppUserDetailsSelector","Navbar","bg","to","URLS","HOME","src","alt","name","onClick","callDoLogout","message","error","Layout","useAppUserAuthSelector","containerClass","classnames","Fragment","children","reqLayout","Component","requireAuth","LOGIN","requireNoAuth","App","globalAction","useAppGlobalAction","window","addEventListener","checkDeviceSize","removeEventListener","width","innerWidth","screen","setDeviceMobile","setDeviceTab","setDeviceDesktop","exact","path","component","reqAuth","reqNoAuth","SIGNUP","Page404","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","initialState","userReducer","action","type","ACTIONS","USER","payload","LOGOUT","DETAILS","loaderShown","device","globalReducer","GLOBAL","SET_LOADER","SET_DEVICE","list","friends","total","limit","offset","selectedUser","messageReducer","MESSAGE","LIST","messages","reverse","RESET_LIST","APPEND_NEW","newArr","id","find","findIndex","x","push","JSON","parse","stringify","SET_LIMIT","SET_OFFSET","SET_TOTAL","SET_SELECTED_USER","FRIENDS","RESET_FRIENDS","SET_FRIENDS","rootReducer","combineReducers","global","CallApi","url","params","isAuth","isAdaptive","Promise","resolve","reject","headers","localStorage","getItem","STORAGE","Authorization","axios","method","success","response","status","pathname","removeItem","href","data","loginUser","registerUser","userDetails","logout","searchUser","uploadProfilePic","call","POST","API_URLS","resp","setItem","put","user_details","SAGA_ACTIONS","callbackSuccess","callbackError","REGISTER","GET","SEARCH","UPLOAD_PROFILE_PICTURE","getUserMessages","sendMessage","getFriendsList","SEND","sagas","all","takeLatest","middlewares","sagaMiddleware","createSagaMiddleware","middleware","applyMiddleware","indexOf","process","devToolsExtension","compose","persistConfig","key","storage","blacklist","persistedReducer","persistReducer","store","createStore","persistor","persistStore","run","AppLoader","useAppGlobalLoaderSelector","ReactDOM","render","loading","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","document","getElementById","dispatch","APP_STAGE","URL","origin","fetch","contentType","get","ready","unregister","reload","checkValidServiceWorker","extractErrorMessage","defaultMessage","length","COLORS","getColorFor","s","randomIndex","Math","floor","random","trim","index","toLowerCase","charCodeAt","apiBaseUrl","socketBaseUrl","SOCKET_BASE_URL","SOCKET_EVENTS","useDispatch","setLoaderStatus","callApi","useApiCall","callDoLogin","onError","callDoRegister","callGetDetails","callSearchUser","callUploadProfilePic","show","warning","useAppGlobalIsDeviceMobileSelector","isMobile","setIsMobile","sagaAction","dataOrParams","msg"],"mappings":"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","file":"static/js/main.4bf0d86b.chunk.js","sourcesContent":["import React from 'react'\r\nimport './loader.css'\r\n\r\nfunction Loader() {\r\n  return (\r\n    <div className=\"loader-container\">\r\n      <div className=\"lds-ripple\"><div></div><div></div></div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loader\r\n","import React from 'react';\r\nimport Loader from '../../components/loader/loader';\r\n\r\nconst LazyHome = React.lazy(() =>\r\n  import(/* webpackChunkName: \"Home\" */ './home')\r\n);\r\n\r\nconst Home = (props: any) => (\r\n  <React.Suspense fallback={<Loader/>}>\r\n    <LazyHome {...props} />\r\n  </React.Suspense>\r\n);\r\n\r\nexport default Home","import React from 'react';\r\nimport Loader from '../../components/loader/loader';\r\n\r\nconst LazyLogin = React.lazy(() =>\r\n  import(/* webpackChunkName: \"Login\" */ './login')\r\n);\r\n\r\nconst Login = (props: any) => (\r\n  <React.Suspense fallback={<Loader/>}>\r\n    <LazyLogin {...props} />\r\n  </React.Suspense>\r\n);\r\n\r\nexport default Login","import React from 'react';\r\nimport Loader from '../../components/loader/loader';\r\n\r\nconst LazySignup = React.lazy(() =>\r\n  import(/* webpackChunkName: \"Signup\" */ './signup')\r\n);\r\n\r\nconst Signup = (props: any) => (\r\n  <React.Suspense fallback={<Loader/>}>\r\n    <LazySignup {...props} />\r\n  </React.Suspense>\r\n);\r\n\r\nexport default Signup","import React from 'react';\r\nimport Loader from '../../components/loader/loader';\r\n\r\nconst LazyPageNotFound = React.lazy(() =>\r\n  import(/* webpackChunkName: \"PageNotFound\" */ './page404')\r\n);\r\n\r\nconst PageNotFound = (props: any) => (\r\n  <React.Suspense fallback={<Loader/>}>\r\n    <LazyPageNotFound {...props} />\r\n  </React.Suspense>\r\n);\r\n\r\nexport default PageNotFound","import { useState, useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { StateExtended } from '../../interfaces/StateExtended'\r\n\r\n/**\r\n * user auth status hook\r\n */\r\nexport function useAuthStatus() {\r\n  const user = useSelector((state: StateExtended) => state.user)\r\n  const authChecker = () => (user && user.isAuthenticated && user.token && user.user)\r\n  const [isAuthenticated, setAuthenticated] = useState(authChecker())\r\n  \r\n  useEffect(() => {\r\n    setAuthenticated(authChecker())\r\n  }, [user])\r\n\r\n  return isAuthenticated\r\n}","import React from 'react'\r\n\r\nimport {\r\n  Navbar\r\n} from 'react-bootstrap'\r\nimport { Link } from 'react-router-dom'\r\nimport { ACTIONS, URLS } from '../../config'\r\nimport { useAuthStatus } from '../../_common/hooks/custom/useAuthStatus'\r\n\r\nimport {\r\n  AiOutlineLogout,\r\n} from 'react-icons/ai'\r\nimport { useUserApi } from '../../_common/hooks/api/appUserApiHook'\r\nimport { useToaster } from '../../_common/hooks/custom/appToasterHook'\r\nimport { useAppUserDetailsSelector } from '../../_common/hooks/selectors/userSelectorHook'\r\n\r\nfunction HeaderMenu() {\r\n\r\n  const auth = useAuthStatus()\r\n  const userApi = useUserApi()\r\n  const toast  = useToaster()\r\n  const user = useAppUserDetailsSelector()\r\n  /**\r\n   * functions\r\n   */\r\n  const onClickLogout = () => {\r\n    userApi.callDoLogout(() => {}, (message: string) => {\r\n      toast.error(message)\r\n    })\r\n  }\r\n\r\n  if (!auth || !user) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Navbar bg=\"dark\">\r\n        <Link to={URLS.HOME} className=\"navbar-brand text-light d-flex align-items-center\">\r\n          <img\r\n            src=\"/images/icons/android-icon-144x144.png\"\r\n            className=\"d-inline-block align-top mr-1 header-image\"\r\n            alt=\"React Bootstrap logo\"\r\n          />\r\n          <span className=\"header-text-logo\">Lets Chat</span>\r\n        </Link>\r\n        <div className=\"d-flex justify-content-end flex-grow-1 align-items-center\">\r\n          <span className=\"text-light mr-2 font-weight-bold header-username\">Hello {user.name}</span>\r\n          <button onClick={onClickLogout} className=\"btn btn-dark btn-logout\">Logout <AiOutlineLogout/></button>\r\n        </div>\r\n      </Navbar>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default HeaderMenu\r\n","import React, { useEffect } from 'react'\r\nimport { useAppUserAuthSelector } from '../../_common/hooks/selectors/userSelectorHook'\r\nimport HeaderMenu from '../header/header'\r\nimport classnames from 'classnames'\r\n\r\nfunction Layout(props: any) {\r\n  const auth = useAppUserAuthSelector()\r\n  const containerClass = classnames({\r\n    'app-container': true,\r\n    'user-auth': auth\r\n  })\r\n  return (\r\n    <React.Fragment>\r\n      <HeaderMenu/>\r\n      <div className={containerClass}>\r\n      {props.children}\r\n      </div>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default Layout\r\n","import React from 'react'\r\nimport { Redirect } from 'react-router'\r\nimport Layout from '../../components/layout/layout'\r\n\r\n/**\r\n * Layout hoc\r\n * @param Component component to render\r\n */\r\nfunction reqLayout(Component: React.ComponentType) {\r\n  function LayoutHoc(props: any) {\r\n    return (\r\n      <Layout>\r\n        <Component {...props} />\r\n      </Layout>\r\n    )\r\n  }\r\n\r\n  return LayoutHoc\r\n}\r\nexport default reqLayout\r\n","import React, { useEffect } from 'react'\r\nimport { Redirect } from 'react-router'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { URLS } from '../../config'\r\nimport Layout from '../../components/layout/layout'\r\nimport { useAuthStatus } from '../hooks/custom/useAuthStatus'\r\n\r\n/**\r\n * check if auth is available, then redirect if necessary \r\n * @param Component Component to render\r\n */\r\nfunction requireAuth(Component: React.ComponentType) {\r\n  function AuthHoc(props: any) {\r\n    const isAuth = useAuthStatus()\r\n\r\n    return (\r\n      isAuth ? <Layout>\r\n        <Component {...props} />\r\n      </Layout> : <Redirect to={URLS.LOGIN}/>\r\n    )\r\n  }\r\n\r\n  return AuthHoc\r\n}\r\nexport default requireAuth\r\n","import React, { useEffect } from 'react'\r\nimport { Redirect } from 'react-router'\r\nimport { URLS } from '../../config'\r\nimport Layout from '../../components/layout/layout'\r\nimport { useAuthStatus } from '../hooks/custom/useAuthStatus'\r\n\r\n/**\r\n * check if auth is available, then redirect if necessary \r\n * @param Component Component to render\r\n */\r\nfunction requireNoAuth(Component: React.ComponentType) {\r\n  function NoAuthHoc(props: any) {\r\n    const isAuth = useAuthStatus()\r\n\r\n    return (\r\n      isAuth ? <Redirect to={URLS.HOME}/> : <Layout>\r\n        <Component {...props} />\r\n      </Layout>\r\n    )\r\n  }\r\n\r\n  return NoAuthHoc\r\n}\r\nexport default requireNoAuth\r\n","import React, { useEffect } from 'react'\nimport { URLS } from './config';\nimport { BrowserRouter as Router, Switch, Route, withRouter, HashRouter, Redirect, useHistory } from 'react-router-dom';\n\nimport Home from './containers/home'\nimport Login from './containers/login'\nimport Signup from './containers/signup'\nimport Page404 from './containers/page-404'\n\nimport reqLayout from './_common/hoc/layout'\nimport reqAuth from './_common/hoc/reqAuth'\nimport reqNoAuth from './_common/hoc/reqNoAuth'\nimport { useAppGlobalAction } from './_common/hooks/actions/appGlobalActionHook';\n\nfunction App() {\n  /**\n   * const\n   */\n  const globalAction = useAppGlobalAction()\n  /**\n   * effetcs\n   */\n  useEffect(() => {\n    window.addEventListener(\"resize\", checkDeviceSize)\n    checkDeviceSize()\n    return () => {\n      window.removeEventListener(\"resize\", checkDeviceSize)\n    }\n  }, [])\n\n  /**\n   * functions\n   */\n  const checkDeviceSize = () => {\n    // eslint-disable-next-line no-restricted-globals\n    let width = (window.innerWidth > 0) ? window.innerWidth : (screen as any).width;\n    if (width < 576) {\n      globalAction.setDeviceMobile()\n    } else if (width < 768) {\n      globalAction.setDeviceTab()\n    } else {\n      globalAction.setDeviceDesktop()\n    }\n  }\n\n  return (\n    <Router>\n      <Switch>\n        <Route exact path={URLS.HOME} component={reqAuth(Home)} />\n        <Route path={URLS.LOGIN} component={reqNoAuth(Login)} />\n        <Route path={URLS.SIGNUP} component={reqNoAuth(Signup)} />\n        <Route path=\"*\" component={reqLayout(Page404)} />\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/sw.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { ACTIONS } from '../../config'\r\nimport { ActionExtended } from '../../_common/interfaces/ActionExtended';\r\nimport { Friends } from '../../_common/interfaces/models/firends';\r\nimport { User } from '../../_common/interfaces/models/user';\r\n\r\nexport interface UserReducer {\r\n  user: User | null;\r\n  token: string | null;\r\n  isAuthenticated: boolean;\r\n}\r\n\r\nconst initialState: UserReducer = {\r\n  user: null,\r\n  token: null,\r\n  isAuthenticated: false,\r\n};\r\n\r\nconst userReducer = (state = initialState, action: ActionExtended) => {\r\n  switch (action.type) {\r\n    case ACTIONS.USER.LOGIN:\r\n      return {\r\n        ...state,\r\n        user: action.payload.user,\r\n        token: action.payload.token,\r\n        isAuthenticated: true,\r\n      };\r\n    case ACTIONS.USER.LOGOUT:\r\n      return {\r\n        ...state,\r\n        ...initialState,\r\n      };\r\n    case ACTIONS.USER.DETAILS:\r\n      return {\r\n        ...state,\r\n        user: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default userReducer;\r\n","import { ACTIONS } from '../../config'\r\nimport { ActionExtended } from '../../_common/interfaces/ActionExtended';\r\n\r\nexport interface GlobalReducer {\r\n  loaderShown: boolean;\r\n  device: \"mobile\" | \"tab\" | \"desktop\" | null\r\n}\r\n\r\nconst initialState : GlobalReducer = {\r\n  loaderShown: false,\r\n  device: null,\r\n};\r\n\r\nconst globalReducer = (state = initialState, action: ActionExtended) => {\r\n  switch (action.type) {\r\n    case ACTIONS.GLOBAL.SET_LOADER:\r\n      return {\r\n        ...state,\r\n        loaderShown: action.payload,\r\n      };\r\n    case ACTIONS.GLOBAL.SET_DEVICE:\r\n      return {\r\n        ...state,\r\n        device: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default globalReducer;\r\n","import { ACTIONS } from '../../config'\r\nimport { ActionExtended } from '../../_common/interfaces/ActionExtended';\r\nimport { ChatMessage } from '../../_common/interfaces/models/chatMessage';\r\nimport { Friends } from '../../_common/interfaces/models/firends';\r\nimport { SearchUser } from '../../_common/interfaces/models/searchUser';\r\nimport { User } from '../../_common/interfaces/models/user';\r\n\r\nexport type FriendOrSearchUser =  Friends | SearchUser\r\n\r\nexport interface MessageReducer {\r\n  list: ChatMessage[];\r\n  total: number;\r\n  limit: number;\r\n  offset: number;\r\n  selectedUser: FriendOrSearchUser | null;\r\n  friends: Friends[];\r\n}\r\n\r\nconst initialState: MessageReducer = {\r\n  list: [],\r\n  friends: [],\r\n  total: 0,\r\n  limit: 0,\r\n  offset: 0,\r\n  selectedUser: null,\r\n};\r\n\r\nconst messageReducer = (state = initialState, action: ActionExtended) => {\r\n  switch (action.type) {\r\n    case ACTIONS.USER.LOGOUT:\r\n      return {\r\n        ...state,\r\n        ...initialState,\r\n      };\r\n    case ACTIONS.MESSAGE.LIST:\r\n      return {\r\n        ...state,\r\n        list: action.payload.messages.reverse(),\r\n        total: action.payload.total,\r\n        limit: action.payload.limit,\r\n        offset: action.payload.offset,\r\n      };\r\n    case ACTIONS.MESSAGE.RESET_LIST:\r\n      return {\r\n        ...state,\r\n        list: [],\r\n        total: 0,\r\n        limit: 0,\r\n        offset: 0,\r\n      };\r\n    case ACTIONS.MESSAGE.APPEND_NEW:\r\n      let newArr = state.list\r\n      if (action.payload.id) {\r\n        let find = state.list.findIndex(x => x.id == action.payload.id)\r\n        if (find < 0) {\r\n          newArr.push(action.payload)\r\n        }\r\n      } else {\r\n        newArr.push(action.payload)\r\n      }\r\n      return {\r\n        ...state,\r\n        list: JSON.parse(JSON.stringify(newArr)),\r\n        total: state.total + 1,\r\n      };\r\n    case ACTIONS.MESSAGE.SET_LIMIT:\r\n      return {\r\n        ...state,\r\n        limit: action.payload,\r\n      }\r\n    case ACTIONS.MESSAGE.SET_OFFSET:\r\n      return {\r\n        ...state,\r\n        offset: action.payload,\r\n      }\r\n    case ACTIONS.MESSAGE.SET_TOTAL:\r\n      return {\r\n        ...state,\r\n        total: action.payload,\r\n      }\r\n    case ACTIONS.MESSAGE.SET_SELECTED_USER:\r\n      return {\r\n        ...state,\r\n        selectedUser: action.payload,\r\n      }\r\n    case ACTIONS.MESSAGE.FRIENDS:\r\n        return {\r\n          ...state,\r\n          friends: action.payload,\r\n        };\r\n    case ACTIONS.MESSAGE.RESET_FRIENDS:\r\n        return {\r\n          ...state,\r\n          friends: [],\r\n        };\r\n    case ACTIONS.MESSAGE.SET_FRIENDS:\r\n        return {\r\n          ...state,\r\n          friends: action.payload,\r\n        };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default messageReducer;\r\n","import { combineReducers } from 'redux';\r\n\r\nimport userReducer from './userReducer'\r\nimport globalReducer from './globalReducer'\r\nimport messageReducer from './messageReducer'\r\n\r\nconst rootReducer = combineReducers({\r\n  user: userReducer,\r\n  global: globalReducer,\r\n  message: messageReducer,\r\n})\r\n\r\nexport default rootReducer","import axios from 'axios';\r\nimport { STORAGE, URLS } from '../config';\r\n\r\nexport class CallApi {\r\n  static GET(url: string, params: any, isAuth: boolean = false, isAdaptive: boolean = false) {\r\n    return new Promise((resolve, reject) => {\r\n      let headers = {};\r\n      if (isAuth || isAdaptive) {\r\n        const token = localStorage.getItem(STORAGE);\r\n        if (token) {\r\n          headers = {\r\n            Authorization: `Bearer ${token}`,\r\n          };\r\n        }\r\n      }\r\n      return axios({\r\n        method: 'GET',\r\n        url,\r\n        headers,\r\n        params,\r\n      })\r\n        .then(success => {\r\n          return resolve(success);\r\n        })\r\n        .catch(error => {\r\n          if(error.response && error.response.status===401 && window.location.pathname != URLS.LOGIN) {\r\n            localStorage.removeItem(STORAGE);\r\n            window.location.href=URLS.LOGIN;\r\n          }\r\n          return reject(error.response);\r\n        });\r\n    });\r\n  }\r\n\r\n  static POST(url: string, data: any, isAuth: boolean = false, isAdaptive: boolean = false) {\r\n    return new Promise((resolve, reject) => {\r\n      let headers = {};\r\n      if (isAuth || isAdaptive) {\r\n        const token = localStorage.getItem(STORAGE);\r\n        if (token) {\r\n          headers = {\r\n            Authorization: `Bearer ${token}`,\r\n          };\r\n        }\r\n      }\r\n      return axios({\r\n        method: 'POST',\r\n        url,\r\n        headers,\r\n        data,\r\n      })\r\n        .then(success => {\r\n          return resolve(success);\r\n        })\r\n        .catch(error => {\r\n          if(error.response && error.response.status===401 && window.location.pathname != URLS.LOGIN) {\r\n            localStorage.removeItem(STORAGE);\r\n            window.location.href=URLS.LOGIN;\r\n          }\r\n          return reject(error.response);\r\n        });\r\n    });\r\n  }\r\n\r\n  static PUT(url: string, data: any, isAuth: boolean = false, isAdaptive: boolean = false) {\r\n    return new Promise((resolve, reject) => {\r\n      let headers = {};\r\n      if (isAuth || isAdaptive) {\r\n        const token = localStorage.getItem(STORAGE);\r\n        if (token) {\r\n          headers = {\r\n            Authorization: `Bearer ${token}`,\r\n          };\r\n        }\r\n      }\r\n      return axios({\r\n        method: 'PUT',\r\n        url,\r\n        headers,\r\n        data,\r\n      })\r\n        .then(success => {\r\n          return resolve(success);\r\n        })\r\n        .catch(error => {\r\n          if(error.response && error.response.status===401 && window.location.pathname != URLS.LOGIN) {\r\n            localStorage.removeItem(STORAGE);\r\n            window.location.href=URLS.LOGIN;\r\n          }\r\n          return reject(error.response);\r\n        });\r\n    });\r\n  }\r\n\r\n  static DELETE(url: string, data: any, isAuth: boolean = false, isAdaptive: boolean = false) {\r\n    return new Promise((resolve, reject) => {\r\n      let headers = {};\r\n      if (isAuth || isAdaptive) {\r\n        const token = localStorage.getItem(STORAGE);\r\n        if (token) {\r\n          headers = {\r\n            Authorization: `Bearer ${token}`,\r\n          };\r\n        }\r\n      }\r\n      return axios({\r\n        method: 'DELETE',\r\n        url,\r\n        headers,\r\n        data,\r\n      })\r\n        .then(success => {\r\n          return resolve(success);\r\n        })\r\n        .catch(error => {\r\n          if(error.response && error.response.status===401 && window.location.pathname != URLS.LOGIN) {\r\n            localStorage.removeItem(STORAGE);\r\n            window.location.href=URLS.LOGIN;\r\n          }\r\n          return reject(error.response);\r\n        });\r\n    });\r\n  }\r\n}\r\n","import { call, put } from 'redux-saga/effects';\r\nimport { ACTIONS, API_URLS, SAGA_ACTIONS, STORAGE } from '../config';\r\nimport { CallApi } from './__callApi';\r\n\r\nexport function* loginUser(action: any) {\r\n  try {\r\n    const data = action.payload;\r\n    const resp = yield call(CallApi.POST, API_URLS.USER.LOGIN, data);\r\n    if (resp.status >= 200 && resp.status < 300 && resp.data && resp.data.data && resp.data.success) {\r\n      localStorage.setItem(STORAGE, resp.data.data.token);\r\n      yield put({\r\n        type: ACTIONS.USER.LOGIN,\r\n        payload: {\r\n          user: resp.data.data.user_details,\r\n          token: resp.data.data.token,\r\n        }\r\n      })\r\n      yield put({\r\n        type: SAGA_ACTIONS.USER.DETAILS,\r\n        payload: null,\r\n        callbackSuccess: () => {},\r\n        callbackError: () => {}\r\n      })\r\n      action && action.callbackSuccess && action.callbackSuccess(resp.data);\r\n    } else {\r\n      action && action.callbackError && action.callbackError(resp.data);\r\n    }\r\n  } catch (e) {\r\n    action && action.callbackError && action.callbackError(e && e.data ? e.data : e);\r\n  }\r\n}\r\n\r\nexport function* registerUser(action: any) {\r\n  try {\r\n    const data = action.payload;\r\n    const resp = yield call(CallApi.POST, API_URLS.USER.REGISTER, data);\r\n    if (resp.status >= 200 && resp.status < 300 && resp.data && resp.data.data && resp.data.success) {\r\n      localStorage.setItem(STORAGE, resp.data.data.token);\r\n      yield put({\r\n        type: ACTIONS.USER.LOGIN,\r\n        payload: {\r\n          user: resp.data.data.user_details,\r\n          token: resp.data.data.token,\r\n        }\r\n      })\r\n      yield put({\r\n        type: SAGA_ACTIONS.USER.DETAILS,\r\n        payload: null,\r\n        callbackSuccess: () => {},\r\n        callbackError: () => {}\r\n      })\r\n      action && action.callbackSuccess && action.callbackSuccess(resp.data);\r\n    } else {\r\n      action && action.callbackError && action.callbackError(resp.data);\r\n    }\r\n  } catch (e) {\r\n    action && action.callbackError && action.callbackError(e && e.data ? e.data : e);\r\n  }\r\n}\r\n\r\nexport function* userDetails(action: any) {\r\n  try {\r\n    const data = action.payload;\r\n    const resp = yield call(CallApi.GET, API_URLS.USER.DETAILS, data, true);\r\n    if (resp.status >= 200 && resp.status < 300 && resp.data && resp.data.data && resp.data.success) {\r\n      yield put({\r\n        type: ACTIONS.USER.DETAILS,\r\n        payload: resp.data.data,\r\n      })\r\n      action && action.callbackSuccess && action.callbackSuccess(resp.data);\r\n    } else {\r\n      action && action.callbackError && action.callbackError(resp.data);\r\n    }\r\n  } catch (e) {\r\n    action && action.callbackError && action.callbackError(e && e.data ? e.data : e);\r\n  }\r\n}\r\n\r\nexport function* logout(action: any) {\r\n  try {\r\n    const data = action.payload;\r\n    const resp = yield call(CallApi.POST, API_URLS.USER.LOGOUT, data, true);\r\n    if (resp.status >= 200 && resp.status < 300 && resp.data && resp.data.success) {\r\n      yield put({\r\n        type: ACTIONS.USER.LOGOUT,\r\n        payload: null,\r\n      })\r\n      action && action.callbackSuccess && action.callbackSuccess(resp.data);\r\n    } else {\r\n      action && action.callbackError && action.callbackError(resp.data);\r\n    }\r\n  } catch (e) {\r\n    action && action.callbackError && action.callbackError(e && e.data ? e.data : e);\r\n  }\r\n}\r\n\r\nexport function* searchUser(action: any) {\r\n  try {\r\n    const data = action.payload;\r\n    const resp = yield call(CallApi.GET, API_URLS.USER.SEARCH, data, true);\r\n    if (resp.status >= 200 && resp.status < 300 && resp.data && resp.data.success) {\r\n      action && action.callbackSuccess && action.callbackSuccess(resp.data);\r\n    } else {\r\n      action && action.callbackError && action.callbackError(resp.data);\r\n    }\r\n  } catch (e) {\r\n    action && action.callbackError && action.callbackError(e && e.data ? e.data : e);\r\n  }\r\n}\r\n\r\nexport function* uploadProfilePic(action: any) {\r\n  try {\r\n    const data = action.payload;\r\n    const resp = yield call(CallApi.POST, API_URLS.USER.UPLOAD_PROFILE_PICTURE, data, true);\r\n    if (resp.status >= 200 && resp.status < 300 && resp.data && resp.data.success) {\r\n      yield put({\r\n        type: SAGA_ACTIONS.USER.DETAILS,\r\n        payload: null,\r\n        callbackSuccess: () => {\r\n          action && action.callbackSuccess && action.callbackSuccess(resp.data);\r\n        },\r\n        callbackError: () => {\r\n          action && action.callbackSuccess && action.callbackSuccess(resp.data);\r\n        }\r\n      })\r\n    } else {\r\n      action && action.callbackError && action.callbackError(resp.data);\r\n    }\r\n  } catch (e) {\r\n    action && action.callbackError && action.callbackError(e && e.data ? e.data : e);\r\n  }\r\n}","import { call, put } from 'redux-saga/effects';\r\nimport { ACTIONS, API_URLS, SAGA_ACTIONS, STORAGE } from '../config';\r\nimport { CallApi } from './__callApi';\r\n\r\nexport function* getUserMessages(action: any) {\r\n  try {\r\n    const data = action.payload;\r\n    const resp = yield call(CallApi.GET, API_URLS.MESSAGE.LIST, data, true);\r\n    if (resp.status >= 200 && resp.status < 300 && resp.data && resp.data.success) {\r\n      yield put({\r\n        type: ACTIONS.MESSAGE.LIST,\r\n        payload: resp.data.data,\r\n      })\r\n      action && action.callbackSuccess && action.callbackSuccess(resp.data);\r\n    } else {\r\n      action && action.callbackError && action.callbackError(resp.data);\r\n    }\r\n  } catch (e) {\r\n    action && action.callbackError && action.callbackError(e && e.data ? e.data : e);\r\n  }\r\n}\r\n\r\nexport function* sendMessage(action: any) {\r\n  try {\r\n    const data = action.payload;\r\n    const resp = yield call(CallApi.POST, API_URLS.MESSAGE.SEND, data, true);\r\n    if (resp.status >= 200 && resp.status < 300 && resp.data && resp.data.success) {\r\n      action && action.callbackSuccess && action.callbackSuccess(resp.data);\r\n    } else {\r\n      action && action.callbackError && action.callbackError(resp.data);\r\n    }\r\n  } catch (e) {\r\n    action && action.callbackError && action.callbackError(e && e.data ? e.data : e);\r\n  }\r\n}\r\n\r\nexport function* getFriendsList(action: any) {\r\n  try {\r\n    const data = action.payload;\r\n    const resp = yield call(CallApi.GET, API_URLS.MESSAGE.FRIENDS, data, true);\r\n    if (resp.status >= 200 && resp.status < 300 && resp.data && resp.data.success) {\r\n      yield put({\r\n        type: ACTIONS.MESSAGE.FRIENDS,\r\n        payload: resp.data.data,\r\n      })\r\n      action && action.callbackSuccess && action.callbackSuccess(resp.data);\r\n    } else {\r\n      action && action.callbackError && action.callbackError(resp.data);\r\n    }\r\n  } catch (e) {\r\n    action && action.callbackError && action.callbackError(e && e.data ? e.data : e);\r\n  }\r\n}","import { fork, take, takeLatest, all, takeEvery, takeLeading } from 'redux-saga/effects';\r\nimport { SAGA_ACTIONS } from '../config';\r\n\r\nimport {\r\n  loginUser,\r\n  logout,\r\n  registerUser,\r\n  userDetails,\r\n  searchUser,\r\n  uploadProfilePic,\r\n} from './user.saga'\r\n\r\nimport {\r\n  sendMessage,\r\n  getUserMessages,\r\n  getFriendsList,\r\n} from './message.saga'\r\n\r\nexport function* sagas() {\r\n  yield all([\r\n    // user saga\r\n    takeLatest(SAGA_ACTIONS.USER.LOGIN, loginUser),\r\n    takeLatest(SAGA_ACTIONS.USER.LOGOUT, logout),\r\n    takeLatest(SAGA_ACTIONS.USER.REGISTER, registerUser),\r\n    takeLatest(SAGA_ACTIONS.USER.DETAILS, userDetails),\r\n    takeLatest(SAGA_ACTIONS.USER.SEARCH, searchUser),\r\n    takeLatest(SAGA_ACTIONS.USER.UPLOAD_PROFILE_PICTURE, uploadProfilePic),\r\n\r\n    // message saga\r\n    takeLatest(SAGA_ACTIONS.MESSAGE.SEND, sendMessage),\r\n    takeLatest(SAGA_ACTIONS.MESSAGE.LIST, getUserMessages),\r\n    takeLatest(SAGA_ACTIONS.MESSAGE.FRIENDS, getFriendsList),\r\n  ])\r\n}","import createSagaMiddleware from \"redux-saga\";\r\nimport { createStore, applyMiddleware, compose } from 'redux';\r\nimport { persistStore, persistReducer } from 'redux-persist'\r\nimport storage from 'redux-persist/lib/storage'\r\nimport { PersistPartial } from \"redux-persist/es/persistReducer\";\r\n\r\nimport rootReducer from './reducers';\r\nimport { sagas } from '../sagas';\r\n\r\nlet middlewares = [];\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\nmiddlewares.push(sagaMiddleware);\r\n\r\nlet middleware = applyMiddleware(...middlewares);\r\n\r\n// add the redux dev tools process.env.NODE_ENV !== 'production' &&\r\nif ((['prod', 'stage'].indexOf((process.env as any).REACT_APP_STAGE) < 0) && (window as any).devToolsExtension) {\r\n  middleware = compose(middleware, (window as any).devToolsExtension());\r\n}\r\n\r\n/**\r\n * TODO: add registration in blacklist\r\n */\r\n\r\nconst persistConfig = {\r\n  key: 'root',\r\n  storage,\r\n  blacklist: ['global']\r\n}\r\n\r\nconst persistedReducer = persistReducer(persistConfig, rootReducer)\r\n\r\nconst store = createStore<any & PersistPartial, any, any, any>(persistedReducer, middleware);\r\nconst persistor = persistStore(store)\r\n\r\n\r\nsagaMiddleware.run(sagas);\r\n\r\nexport { store, persistor };","import React from 'react'\r\nimport Loader from './loader'\r\nimport { useAppGlobalLoaderSelector } from '../../_common/hooks/selectors/globalSelectorHook'\r\n\r\nfunction AppLoader() {\r\n  const isLoaderShown = useAppGlobalLoaderSelector()\r\n\r\n  if (!isLoaderShown) {\r\n    return null\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n      <Loader/>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default AppLoader\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react'\nimport { store, persistor } from './store'\nimport 'react-toastify/dist/ReactToastify.css';\nimport 'react-perfect-scrollbar/dist/css/styles.css';\n\nimport { ToastContainer } from 'react-toastify'\n\nimport { APP_STAGE, SAGA_ACTIONS, STORAGE } from './config'\nimport AppLoader from './components/loader/appLoader';\n\nReactDOM.render(\n  <React.Fragment>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <React.Fragment>\n          <AppLoader/>\n          <App />\n          <ToastContainer\n            position=\"top-right\"\n            autoClose={5000}\n            hideProgressBar={false}\n            newestOnTop={true}\n            closeOnClick\n            rtl={false}\n            pauseOnFocusLoss\n            draggable\n            pauseOnHover\n          />\n        </React.Fragment>\n      </PersistGate>\n    </Provider>\n  </React.Fragment>,\n  document.getElementById('root')\n);\n\nlet token = localStorage.getItem(STORAGE)\nif (token) {\n  store.dispatch({\n    type: SAGA_ACTIONS.USER.DETAILS,\n  })\n}\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nif (APP_STAGE === 'prod') {\n  serviceWorker.register();\n} else {\n  serviceWorker.unregister();\n}","/**\r\n * extract error message from server response \r\n * @param error any\r\n * @param defaultMessage string\r\n */\r\nexport const extractErrorMessage = (error: any, defaultMessage = 'Please try again') => {\r\n  if (typeof error === 'string') {\r\n    return error\r\n  } else {\r\n    if (error && error.data && error.data.length) {\r\n      return error.data[0].message;\r\n    } else if (error && error.data && error.data.message) {\r\n      return error.data.message\r\n    } else if (error && error.message) {\r\n      return error.message\r\n    } else {\r\n      return defaultMessage\r\n    }\r\n  }\r\n}\r\n","/**\r\n * default colors for user logo background (if image not available)\r\n */\r\nexport const COLORS = [\r\n  '#6200EA',\r\n  '#304FFE',\r\n  '#9C27B0',\r\n  '#AA00FF',\r\n  '#2196F3',\r\n  '#0D47A1',\r\n  '#1B5E20',\r\n  '#00C853',\r\n  '#689F38',\r\n  '#C51162',\r\n  '#673AB7',\r\n  '#311B92',\r\n  '#33691E',\r\n  '#AFB42B',\r\n  '#F57F17',\r\n  '#FF6F00',\r\n  '#0288D1',\r\n  '#00B8D4',\r\n  '#004D40',\r\n  '#00BFA5',\r\n  '#E65100',\r\n  '#BF360C',\r\n  '#3E2723',\r\n  '#212121',\r\n  '#263238',\r\n  '#D50000',\r\n]\r\n\r\n/**\r\n * get color code according to user initial\r\n * @param s user name\r\n */\r\nexport const getColorFor = (s: string) => {\r\n  let randomIndex = Math.floor(Math.random()*COLORS.length)\r\n  if (!s || !s.trim().length) {\r\n    return COLORS[randomIndex]\r\n  }\r\n  let index = s.toLowerCase().charCodeAt(0) - 97\r\n  return COLORS[index >= 0 && index < 26 ? index : randomIndex]\r\n}","export const APP_VERSION = process.env.REACT_APP_VERSION\r\nexport const APP_STAGE = process.env.REACT_APP_STAGE\r\nexport const STORAGE = 'node-react-chat-token'\r\n\r\nlet apiBaseUrl = 'http://localhost:4000/api/'\r\nlet socketBaseUrl = 'ws://localhost:4000/'\r\n\r\nif (APP_STAGE == 'prod') {\r\n  apiBaseUrl = 'https://letschatapi.appswithfun.com/api/'\r\n  socketBaseUrl = 'wss://letschatapi.appswithfun.com/'\r\n}\r\n\r\nexport const SOCKET_BASE_URL = socketBaseUrl\r\n\r\nexport const URLS = {\r\n  LOGIN: '/login',\r\n  HOME: '/',\r\n  SIGNUP: '/signup'\r\n}\r\n\r\nexport const API_URLS = {\r\n  USER: {\r\n    LOGIN: `${apiBaseUrl}auth/login`,\r\n    REGISTER: `${apiBaseUrl}user/register`,\r\n    LOGOUT: `${apiBaseUrl}auth/logout`,\r\n    DETAILS: `${apiBaseUrl}user/profile`,\r\n    UPLOAD_PROFILE_PICTURE: `${apiBaseUrl}user/upload-profile-picture`,\r\n    SEARCH: `${apiBaseUrl}user/search`,\r\n  },\r\n  MESSAGE: {\r\n    SEND: `${apiBaseUrl}message/send`,\r\n    LIST: `${apiBaseUrl}message/list`,\r\n    FRIENDS: `${apiBaseUrl}message/friends`,\r\n  },\r\n}\r\nexport const ACTIONS = {\r\n  GLOBAL: {\r\n    SET_LOADER: 'ACTIONS/GLOBAL/SET_LOADER',\r\n    SET_DEVICE: 'ACTIONS/GLOBAL/SET_DEVICE',\r\n  },\r\n  USER: {\r\n    LOGIN: 'ACTIONS/USER/LOGIN',\r\n    LOGOUT: 'ACTIONS/USER/LOGOUT',\r\n    DETAILS: 'ACTIONS/USER/DETAILS',\r\n  },\r\n  MESSAGE: {\r\n    LIST: 'ACTIONS/MESSAGE/LIST',\r\n    APPEND_NEW: 'ACTIONS/MESSAGE/APPEND_NEW',\r\n    RESET_LIST: 'ACTIONS/MESSAGE/RESET_LIST',\r\n    SET_TOTAL: 'ACTIONS/MESSAGE/SET_TOTAL',\r\n    SET_LIMIT: 'ACTIONS/MESSAGE/SET_LIMIT',\r\n    SET_OFFSET: 'ACTIONS/MESSAGE/SET_OFFSET',\r\n    SET_SELECTED_USER: 'ACTIONS/MESSAGE/SET_SELECTED_USER',\r\n    FRIENDS: 'ACTIONS/MESSAGE/FRIENDS',\r\n    RESET_FRIENDS: 'ACTIONS/MESSAGE/RESET_FRIENDS',\r\n    SET_FRIENDS: 'ACTIONS/MESSAGE/SET_FRIENDS',\r\n  },\r\n}\r\nexport const SAGA_ACTIONS = {\r\n  USER: {\r\n    LOGIN: 'SAGA_ACTIONS/USER/LOGIN',\r\n    LOGOUT: 'SAGA_ACTIONS/USER/LOGOUT',\r\n    DETAILS: 'SAGA_ACTIONS/USER/DETAILS',\r\n    REGISTER: 'SAGA_ACTIONS/USER/REGISTER',\r\n    SEARCH: 'SAGA_ACTIONS/USER/SEARCH',\r\n    UPLOAD_PROFILE_PICTURE: 'SAGA_ACTIONS/USER/UPLOAD_PROFILE_PICTURE',\r\n  },\r\n  MESSAGE: {\r\n    SEND: 'SAGA_ACTIONS/MESSAGE/SEND',\r\n    LIST: 'SAGA_ACTIONS/MESSAGE/LIST',\r\n    FRIENDS: 'SAGA_ACTIONS/MESSAGE/FRIENDS',\r\n  }\r\n}\r\n\r\nexport const SOCKET_EVENTS = {\r\n  MESSAGE: 'SOCKET_MESSAGE',\r\n  FRIENDS: 'SOCKET_FRIENDS',\r\n}\r\n\r\nexport * from './functions'\r\nexport * from './colors'","import { useSelector } from 'react-redux'\r\nimport { StateExtended } from '../../interfaces/StateExtended'\r\n\r\n\r\nexport function useAppUserDetailsSelector() {\r\n  const user = useSelector((state: StateExtended) => state.user.user)\r\n\r\n  return user\r\n}\r\n\r\nexport function useAppUserTokenSelector() {\r\n  const token = useSelector((state: StateExtended) => state.user.token)\r\n\r\n  return token\r\n}\r\n\r\nexport function useAppUserAuthSelector() {\r\n  const isAuth = useSelector((state: StateExtended) => state.user.isAuthenticated)\r\n\r\n  return isAuth\r\n}\r\n","import { useDispatch } from 'react-redux'\r\nimport { ACTIONS } from '../../../config'\r\n\r\nexport function useAppGlobalAction() {\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  /**\r\n   * set loader status\r\n   * @param data boolean\r\n   */\r\n  const setLoaderStatus = (data: boolean) => {\r\n    dispatch({\r\n      type: ACTIONS.GLOBAL.SET_LOADER,\r\n      payload: data,\r\n    })\r\n  }\r\n  /**\r\n   * set device = mobile device in redux\r\n   */\r\n  const setDeviceMobile = () => {\r\n    dispatch({\r\n      type: ACTIONS.GLOBAL.SET_DEVICE,\r\n      payload: \"mobile\",\r\n    })\r\n  }\r\n  /**\r\n   * set device = tab device in redux\r\n   */\r\n  const setDeviceTab = () => {\r\n    dispatch({\r\n      type: ACTIONS.GLOBAL.SET_DEVICE,\r\n      payload: \"tab\",\r\n    })\r\n  }\r\n  /**\r\n   * set device = desktop device in redux\r\n   */\r\n  const setDeviceDesktop = () => {\r\n    dispatch({\r\n      type: ACTIONS.GLOBAL.SET_DEVICE,\r\n      payload: \"desktop\",\r\n    })\r\n  }\r\n\r\n  return {\r\n    setLoaderStatus,\r\n    setDeviceMobile,\r\n    setDeviceTab,\r\n    setDeviceDesktop,\r\n  }\r\n}","import { SAGA_ACTIONS } from '../../../config'\r\nimport { LoginReq, RegisterReq, SearchUserReq, UploadProfilePicReq } from '../../interfaces/ApiReqRes';\r\nimport { useApiCall } from './appApiCallHook'\r\n\r\nexport function useUserApi() {\r\n\r\n  const callApi = useApiCall()\r\n\r\n  const login = (data: LoginReq, onSuccess: Function, onError: Function) => {\r\n    callApi(SAGA_ACTIONS.USER.LOGIN, data, onSuccess, onError);\r\n  }\r\n  const register = (data: RegisterReq, onSuccess: Function, onError: Function) => {\r\n    callApi(SAGA_ACTIONS.USER.REGISTER, data, onSuccess, onError);\r\n  }\r\n  const logout = (onSuccess: Function, onError: Function) => {\r\n    callApi(SAGA_ACTIONS.USER.LOGOUT, null, onSuccess, onError);\r\n  }\r\n  const details = (onSuccess: Function, onError: Function) => {\r\n    callApi(SAGA_ACTIONS.USER.DETAILS, null, onSuccess, onError);\r\n  }\r\n  const uploadProfilePic = (data: UploadProfilePicReq,onSuccess: Function, onError: Function) => {\r\n    callApi(SAGA_ACTIONS.USER.UPLOAD_PROFILE_PICTURE, data, onSuccess, onError);\r\n  }\r\n  const searchUser = (data: SearchUserReq, onSuccess: Function, onError: Function) => {\r\n    callApi(SAGA_ACTIONS.USER.SEARCH, data, onSuccess, onError);\r\n  }\r\n\r\n  return {\r\n    callDoLogin: login,\r\n    callDoRegister: register,\r\n    callDoLogout: logout,\r\n    callGetDetails: details,\r\n    callSearchUser: searchUser,\r\n    callUploadProfilePic: uploadProfilePic,\r\n  }\r\n}","import { toast } from 'react-toastify'\r\n\r\nexport function useToaster() {\r\n  const show = (message: string) => {\r\n    toast(message)\r\n  }\r\n  const error = (message: string) => {\r\n    toast.error(message)\r\n  }\r\n  const success = (message: string) => {\r\n    toast.success(message)\r\n  }\r\n  const warning = (message: string) => {\r\n    toast.warning(message)\r\n  }\r\n  return { error, show, success, warning }\r\n}","import { useEffect, useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { StateExtended } from '../../interfaces/StateExtended'\r\n\r\n\r\nexport function useAppGlobalLoaderSelector() {\r\n  const loaderShown = useSelector((state: StateExtended) => state.global.loaderShown)\r\n\r\n  return loaderShown\r\n}\r\n\r\nexport function useAppGlobalIsDeviceMobileSelector() {\r\n  const device = useSelector((state: StateExtended) => state.global.device)\r\n  const [isMobile, setIsMobile] = useState(false)\r\n  useEffect(() => {\r\n    if (device == \"mobile\") {\r\n      setIsMobile(true)\r\n    } else {\r\n      setIsMobile(false)\r\n    }\r\n  }, [device])\r\n\r\n  return isMobile\r\n}\r\n\r\nexport function useAppGlobalIsDeviceTabSelector() {\r\n  const device = useSelector((state: StateExtended) => state.global.device)\r\n  const [isTab, setIsTab] = useState(false)\r\n  useEffect(() => {\r\n    if (device == \"tab\") {\r\n      setIsTab(true)\r\n    } else {\r\n      setIsTab(false)\r\n    }\r\n  }, [device])\r\n\r\n  return isTab\r\n}\r\n\r\nexport function useAppGlobalIsDeviceDesktopSelector() {\r\n  const device = useSelector((state: StateExtended) => state.global.device)\r\n  const [isDesktop, setIsDesktop] = useState(false)\r\n  useEffect(() => {\r\n    if (device == \"desktop\") {\r\n      setIsDesktop(true)\r\n    } else {\r\n      setIsDesktop(false)\r\n    }\r\n  }, [device])\r\n\r\n  return isDesktop\r\n}","import { useDispatch } from 'react-redux'\r\nimport { extractErrorMessage } from '../../../config'\r\nimport { useAppGlobalAction } from '../actions/appGlobalActionHook'\r\n\r\nexport function useApiCall() {\r\n\r\n  const dispatch = useDispatch()\r\n  const globalAction = useAppGlobalAction()\r\n\r\n  const callApi = (sagaAction: string, dataOrParams: any = {}, callbackSuccess: Function, callbackError: Function) => {\r\n    globalAction.setLoaderStatus(true)\r\n    dispatch({\r\n      type: sagaAction,\r\n      payload: dataOrParams,\r\n      callbackSuccess: (data: any) => {\r\n        let message = data && data.msg ? data.msg: 'Request processed successfully'\r\n        let resp = data && data.data ? data.data : null\r\n        globalAction.setLoaderStatus(false)\r\n        callbackSuccess && callbackSuccess(message, resp)\r\n      },\r\n      callbackError: (error: any) => {\r\n        let message = extractErrorMessage(error, 'Unable to process request, please try again')\r\n        let resp = error && error.data ? error.data : null\r\n        globalAction.setLoaderStatus(false)\r\n        callbackError && callbackError(message, resp)\r\n      }\r\n    })\r\n  }\r\n  return callApi\r\n}"],"sourceRoot":""}